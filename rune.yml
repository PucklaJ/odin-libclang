version: 0
platforms:
  - Linux x86_64
  - Windows x86_64
  - Macos x86_64
from:
  language: c
  shared: libclang.so
  shared.windows.x86_64: lib/windows/x86_64/libclang.lib
  static.linux: &static_lib libclang.a
  static.macos: *static_lib
  static.bsd: *static_lib
  headers:
    - shared/clang-c/BuildSystem.h
    - shared/clang-c/CXCompilationDatabase.h
    - shared/clang-c/CXDiagnostic.h
    - shared/clang-c/CXErrorCode.h
    - shared/clang-c/CXFile.h
    - shared/clang-c/CXSourceLocation.h
    - shared/clang-c/CXString.h
    - shared/clang-c/Documentation.h
    - shared/clang-c/ExternC.h
    - shared/clang-c/FatalErrorHandler.h
    - shared/clang-c/Index.h
    - shared/clang-c/Platform.h
    - shared/clang-c/Rewrite.h
  includedirs: shared
  overwrite:
    types:
      time_t: '#SInt64'
    functions: &overwrite_functions
      clang_parseTranslationUnit.param.6.type: 'CXTranslationUnit_Flags'
      clang_parseTranslationUnit2.param.6.type: 'CXTranslationUnit_Flags'
      clang_parseTranslationUnit2FullArgv.param.6.type: 'CXTranslationUnit_Flags'
      clang_defaultEditingTranslationUnitOptions.return: 'CXTranslationUnit_Flags'
      clang_getFileUniqueID.return: "#Bool32"
      clang_File_isEqual.return: "#Bool32"
      clang_Location_isInSystemHeader.return: "#Bool32"
      clang_Location_isFromMainFile.return: "#Bool32"
      clang_Range_isNull.return: "#Bool32"
      clang_saveTranslationUnit.return: "CXSaveError"
      clang_Cursor_hasVarDeclGlobalStorage.return: "#Bool32"
      clang_Cursor_hasVarDeclExternalStorage.return: "#Bool32"
      clang_getExceptionSpecificationType.return: "CXCursor_ExceptionSpecificationKind"
      clang_getCursorExceptionSpecificationType.return: "CXCursor_ExceptionSpecificationKind"
      clang_Cursor_isDynamicCall.return: "#Bool32"
      clang_Module_isSystem.return: "#Bool32"
      clang_index_isEntityObjCContainerKind.return: "#Bool32"
  overwrite.windows:
    types:
      time_t: '#SInt32'
    functions: *overwrite_functions
  ignore:
    macros:
      - 'LLVM_*'
      - 'CINDEX_*'
    types: '__time_t'
to:
  language: odin
  package: clang
  out: libclang.odin
  trim_prefix:
    functions:
      - clang_
      - CX
    types:
      - CX
    constants:
      - CXCompilationDatabase_
      - CXDiagnostic_
      - CXLoadDiag_
      - CXDiagnostic_Display
      - CXError_
      - CXComment_
      - CXCommentInlineCommandRenderKind_
      - CXCommentParamPassDirection_
      - CXAvailability_
      - CXCursor_ExceptionSpecificationKind_
      - CXChoice_
      - CXGlobalOpt_
      - CXTranslationUnit_
      - CXSaveTranslationUnit_
      - CXSaveError_
      - CXReparse_
      - CXTUResourceUsage_
      - CXCursor_
      - CXLinkage_
      - CXVisibility_
      - CXLanguage_
      - CXTLS_
      - CXType_
      - CXCallingConv_
      - CXTemplateArgumentKind_
      - CXTypeNullability_
      - CXTypeLayoutError_
      - CXRefQualifier_
      - CX_CXX
      - CX_SC_
      - CXChildVisit_
      - CXPrintingPolicy_
      - CXObjCPropertyAttr_
      - CXObjCDeclQualifier_
      - CXNameRange_
      - CXToken_
      - CXCompletionChunk_
      - CXCodeComplete_
      - CXCompletionContext_
      - CXEval_
      - CXVisit_
      - CXResult_
      - CXEntity_
      - CXIdxEntityLang_
      - CXIdxEntity_
      - CXIdxAttr_
      - CXIdxDeclFlag_
      - CXIdxObjCContainer_
      - CXIdxEntityRef_
      - CXSymbolRole_
      - CXIndexOpt_
      - CXBinaryOperator_
      - CXUnaryOperator_
  use_when_else: yes
  no_build_tag: yes
  ignore_arch: yes
